{"$schema":"http://json-schema.org/draft/2020-12/schema","$id":"https://github.com/concourse/concourse/atc/config","$ref":"#/$defs/Config","$defs":{"BuildLogRetention":{"properties":{"builds":{"type":"integer"},"minimum_succeeded_builds":{"type":"integer"},"days":{"type":"integer"}},"additionalProperties":false,"type":"object"},"CheckEvery":{"properties":{"Never":{"type":"boolean"},"Interval":{"type":"integer"}},"additionalProperties":false,"type":"string","required":["Never","Interval"]},"Config":{"properties":{"groups":{"$ref":"#/$defs/GroupConfigs"},"var_sources":{"$ref":"#/$defs/VarSourceConfigs"},"resources":{"$ref":"#/$defs/ResourceConfigs"},"resource_types":{"$ref":"#/$defs/ResourceTypes"},"prototypes":{"$ref":"#/$defs/Prototypes"},"jobs":{"$ref":"#/$defs/JobConfigs"},"display":{"$ref":"#/$defs/DisplayConfig"}},"additionalProperties":false,"type":"object"},"ContainerLimits":{"properties":{"cpu":{"type":"integer"},"memory":{"type":"integer"}},"additionalProperties":false,"type":"object"},"DisplayConfig":{"properties":{"background_image":{"type":"string"}},"additionalProperties":false,"type":"object"},"DoStep":{"properties":{"do":{"items":{"$ref":"#/$defs/Step"},"type":"array"}},"additionalProperties":false,"type":"object","required":["do"]},"GetStep":{"properties":{"get":{"type":"string"},"resource":{"type":"string"},"version":{"$ref":"#/$defs/VersionConfig"},"params":{"$ref":"#/$defs/Params"},"passed":{"items":{"type":"string"},"type":"array"},"trigger":{"type":"boolean"},"tags":{"$ref":"#/$defs/Tags"},"timeout":{"type":"string"}},"additionalProperties":false,"type":"object","required":["get"]},"GroupConfig":{"properties":{"name":{"type":"string"},"jobs":{"items":{"type":"string"},"type":"array"},"resources":{"items":{"type":"string"},"type":"array"}},"additionalProperties":false,"type":"object","required":["name"]},"GroupConfigs":{"items":{"$ref":"#/$defs/GroupConfig"},"type":"array"},"ImageResource":{"properties":{"name":{"type":"string"},"type":{"type":"string"},"source":{"$ref":"#/$defs/Source"},"version":{"$ref":"#/$defs/Version"},"params":{"$ref":"#/$defs/Params"},"tags":{"$ref":"#/$defs/Tags"}},"additionalProperties":false,"type":"object","required":["name","type","source"]},"InParallelConfig":{"properties":{"steps":{"items":{"$ref":"#/$defs/Step"},"type":"array"},"limit":{"type":"integer"},"fail_fast":{"type":"boolean"}},"additionalProperties":false,"type":"object"},"InParallelStep":{"properties":{"in_parallel":{"$ref":"#/$defs/InParallelConfig"}},"additionalProperties":false,"type":"object","required":["in_parallel"]},"InputsConfig":{"properties":{"All":{"type":"boolean"},"Detect":{"type":"boolean"},"Specified":{"items":{"type":"string"},"type":"array"}},"additionalProperties":false,"type":"object","required":["All","Detect","Specified"]},"InstanceVars":{"type":"object"},"JobConfig":{"properties":{"name":{"type":"string"},"old_name":{"type":"string"},"public":{"type":"boolean"},"disable_manual_trigger":{"type":"boolean"},"serial":{"type":"boolean"},"interruptible":{"type":"boolean"},"serial_groups":{"items":{"type":"string"},"type":"array"},"max_in_flight":{"type":"integer"},"build_logs_to_retain":{"type":"integer"},"build_log_retention":{"$ref":"#/$defs/BuildLogRetention"},"on_success":{"$ref":"#/$defs/Step"},"on_failure":{"$ref":"#/$defs/Step"},"on_abort":{"$ref":"#/$defs/Step"},"on_error":{"$ref":"#/$defs/Step"},"ensure":{"$ref":"#/$defs/Step"},"plan":{"items":{"$ref":"#/$defs/Step"},"type":"array"}},"additionalProperties":false,"type":"object","required":["name","plan"]},"JobConfigs":{"items":{"$ref":"#/$defs/JobConfig"},"type":"array"},"LoadVarStep":{"properties":{"load_var":{"type":"string"},"file":{"type":"string"},"format":{"type":"string"},"reveal":{"type":"boolean"}},"additionalProperties":false,"type":"object","required":["load_var"]},"Params":{"type":"object"},"Prototype":{"properties":{"name":{"type":"string"},"type":{"type":"string"},"source":{"$ref":"#/$defs/Source"},"defaults":{"$ref":"#/$defs/Source"},"privileged":{"type":"boolean"},"check_every":{"$ref":"#/$defs/CheckEvery"},"tags":{"$ref":"#/$defs/Tags"},"params":{"$ref":"#/$defs/Params"}},"additionalProperties":false,"type":"object","required":["name","type","source"]},"Prototypes":{"items":{"$ref":"#/$defs/Prototype"},"type":"array"},"PutStep":{"properties":{"put":{"type":"string"},"resource":{"type":"string"},"params":{"$ref":"#/$defs/Params"},"inputs":{"$ref":"#/$defs/InputsConfig"},"tags":{"$ref":"#/$defs/Tags"},"get_params":{"$ref":"#/$defs/Params"},"timeout":{"type":"string"}},"additionalProperties":false,"type":"object","required":["put"]},"ResourceConfig":{"properties":{"name":{"type":"string"},"old_name":{"type":"string"},"public":{"type":"boolean"},"webhook_token":{"type":"string"},"type":{"type":"string"},"source":{"$ref":"#/$defs/Source"},"check_every":{"$ref":"#/$defs/CheckEvery"},"check_timeout":{"type":"string"},"tags":{"$ref":"#/$defs/Tags"},"version":{"$ref":"#/$defs/Version"},"icon":{"type":"string"},"expose_build_created_by":{"type":"boolean"}},"additionalProperties":false,"type":"object","required":["name","type","source"]},"ResourceConfigs":{"items":{"$ref":"#/$defs/ResourceConfig"},"type":"array"},"ResourceType":{"properties":{"name":{"type":"string"},"type":{"type":"string"},"source":{"$ref":"#/$defs/Source"},"defaults":{"$ref":"#/$defs/Source"},"privileged":{"type":"boolean"},"check_every":{"$ref":"#/$defs/CheckEvery"},"tags":{"$ref":"#/$defs/Tags"},"params":{"$ref":"#/$defs/Params"}},"additionalProperties":false,"type":"object","required":["name","type","source"]},"ResourceTypes":{"items":{"$ref":"#/$defs/ResourceType"},"type":"array"},"SetPipelineStep":{"properties":{"set_pipeline":{"type":"string"},"file":{"type":"string"},"team":{"type":"string"},"vars":{"$ref":"#/$defs/Params"},"var_files":{"items":{"type":"string"},"type":"array"},"instance_vars":{"$ref":"#/$defs/InstanceVars"}},"additionalProperties":false,"type":"object","required":["set_pipeline"]},"Source":{"type":"object"},"Step":{"anyOf":[null,null,null,null,null,null,null,null]},"Tags":{"items":{"type":"string"},"type":"array"},"TaskCacheConfig":{"properties":{"path":{"type":"string"}},"additionalProperties":false,"type":"object"},"TaskConfig":{"properties":{"platform":{"type":"string"},"rootfs_uri":{"type":"string"},"image_resource":{"$ref":"#/$defs/ImageResource"},"container_limits":{"$ref":"#/$defs/ContainerLimits"},"params":{"$ref":"#/$defs/TaskEnv"},"run":{"$ref":"#/$defs/TaskRunConfig"},"inputs":{"items":{"$ref":"#/$defs/TaskInputConfig"},"type":"array"},"outputs":{"items":{"$ref":"#/$defs/TaskOutputConfig"},"type":"array"},"caches":{"items":{"$ref":"#/$defs/TaskCacheConfig"},"type":"array"}},"additionalProperties":false,"type":"object"},"TaskEnv":{"patternProperties":{".*":{"type":"string"}},"type":"object"},"TaskInputConfig":{"properties":{"name":{"type":"string"},"path":{"type":"string"},"optional":{"type":"boolean"}},"additionalProperties":false,"type":"object","required":["name"]},"TaskOutputConfig":{"properties":{"name":{"type":"string"},"path":{"type":"string"}},"additionalProperties":false,"type":"object","required":["name"]},"TaskRunConfig":{"properties":{"path":{"type":"string"},"args":{"items":{"type":"string"},"type":"array"},"dir":{"type":"string"},"user":{"type":"string"}},"additionalProperties":false,"type":"object","required":["path"]},"TaskStep":{"properties":{"task":{"type":"string"},"privileged":{"type":"boolean"},"file":{"type":"string"},"container_limits":{"$ref":"#/$defs/ContainerLimits"},"config":{"$ref":"#/$defs/TaskConfig"},"params":{"$ref":"#/$defs/TaskEnv"},"vars":{"$ref":"#/$defs/Params"},"tags":{"$ref":"#/$defs/Tags"},"input_mapping":{"patternProperties":{".*":{"type":"string"}},"type":"object"},"output_mapping":{"patternProperties":{".*":{"type":"string"}},"type":"object"},"image":{"type":"string"},"timeout":{"type":"string"}},"additionalProperties":false,"type":"object","required":["task"]},"TryStep":{"properties":{"try":{"$ref":"#/$defs/Step"}},"additionalProperties":false,"type":"object","required":["try"]},"VarSourceConfig":{"properties":{"name":{"type":"string"},"type":{"type":"string"},"config":true},"additionalProperties":false,"type":"object","required":["name","type","config"]},"VarSourceConfigs":{"items":{"$ref":"#/$defs/VarSourceConfig"},"type":"array"},"Version":{"patternProperties":{".*":{"type":"string"}},"type":"object"},"VersionConfig":{"properties":{"Every":{"type":"boolean"},"Latest":{"type":"boolean"},"Pinned":{"$ref":"#/$defs/Version"}},"additionalProperties":false,"type":"object","required":["Every","Latest","Pinned"]}},"additionalProperties":true}
